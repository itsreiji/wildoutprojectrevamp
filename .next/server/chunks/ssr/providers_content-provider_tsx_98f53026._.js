module.exports=[98345,a=>{"use strict";var b=a.i(31530),c=a.i(23991),d=a.i(69240);let e=async a=>{console.log("Cleaning up event asset:",a)},f=async a=>{console.log("Cleaning up team member asset:",a)},g=async a=>{console.log("Cleaning up partner asset:",a)},h=async a=>{console.log("Cleaning up gallery asset:",a)};var i=a.i(20713);let j=a=>!a||"string"==typeof a||Array.isArray(a)?{}:Object.entries(a).reduce((a,[b,c])=>("string"==typeof c?a[b]=c:"number"==typeof c||"boolean"==typeof c?a[b]=String(c):null==c&&(a[b]=null),a),{}),k=[],l=[],m=[],n=[],o={id:"00000000-0000-0000-0000-000000000001",title:"WildOut!",subtitle:"Media Digital Nightlife & Event Multi-Platform",description:"Indonesia's premier creative community connecting artists, events, and experiences.",stats:{events:"500+",members:"50K+",partners:"100+"},cta_text:"Join Us",cta_link:"/events",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null},p={id:"00000000-0000-0000-0000-000000000002",title:"About WildOut!",subtitle:"Indonesia's leading creative community platform, connecting artists, events, and experiences since 2020.",founded_year:"2020",story:["Founded in 2020, WildOut! celebrates Indonesiaâ€™s creative culture.","We host community-driven events that bring artists, venues, and sponsors together."],features:[{title:"Community First",description:"We build lasting connections."},{title:"Unforgettable Experiences",description:"Every event is crafted to be memorable."}],created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null},q={id:"00000000-0000-0000-0000-000000000003",site_name:"WildOut!",site_description:"Indonesia's premier creative community platform",tagline:"Indonesia's premier creative community platform",email:"contact@wildout.id",phone:"+62 21 1234 567",address:"Jakarta, Indonesia",social_media:{instagram:"https://instagram.com/wildout.id",twitter:"https://twitter.com/wildout_id",facebook:"https://facebook.com/wildout.id",youtube:"https://youtube.com/@wildout"},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null},r=async()=>{try{let{data:a,error:b}=await d.supabaseClient.rpc("get_hero_content");if(b)return console.error("Error fetching hero content:",b),o;let c=a?.[0];if(c)return{id:c.id??o.id,title:c.title??o.title,subtitle:c.subtitle??o.subtitle,description:c.description??o.description,stats:"string"==typeof c.stats?JSON.parse(c.stats)??o.stats:c.stats??o.stats,cta_text:c.cta_text??o.cta_text,cta_link:c.cta_link??o.cta_link,created_at:c.created_at??o.created_at,updated_at:c.updated_at??o.updated_at,updated_by:c.updated_by??o.updated_by};return o}catch(a){return console.error("Error in fetchHeroContent:",a),o}},s=async()=>{try{let{data:a,error:b}=await d.supabaseClient.rpc("get_about_content");if(b)return console.error("Error fetching about content:",b),p;let c=a?.[0];if(c)return{id:c.id??p.id,title:c.title??p.title,subtitle:c.subtitle??p.subtitle,founded_year:c.founded_year??p.founded_year,story:(a=>{if(a&&Array.isArray(a))return a.filter(a=>"string"==typeof a)})(c.story)??p.story,features:"string"==typeof c.features?JSON.parse(c.features)??p.features:c.features??p.features,created_at:c.created_at??p.created_at,updated_at:c.updated_at??p.updated_at,updated_by:c.updated_by??p.updated_by};return p}catch(a){return console.error("Error in fetchAboutContent:",a),p}},t=async()=>{try{let{data:a,error:b}=await d.supabaseClient.rpc("get_site_settings");if(b)return console.error("Error fetching site settings:",b),q;let c=a?.[0];if(c)return{id:c.id??q.id,site_name:c.site_name??q.site_name,site_description:c.site_description??q.site_description,tagline:c.tagline??q.tagline,email:c.email??q.email,phone:c.phone??q.phone,address:c.address??q.address,social_media:j(c.social_media),created_at:c.created_at??q.created_at,updated_at:c.updated_at??q.updated_at,updated_by:c.updated_by??q.updated_by};return q}catch(a){return console.error("Error in fetchSiteSettings:",a),q}},u=async()=>{try{let{data:a,error:b}=await d.supabaseClient.from("public_events_view").select("*").order("start_date",{ascending:!0});if(b)return console.error("Error fetching events:",b),[];return(a||[]).map(a=>{let b="upcoming";if("published"===a.status){let c=new Date,d=a.start_date?new Date(a.start_date):null,e=a.end_date?new Date(a.end_date):null;b=d&&e&&c>=d&&c<=e?"ongoing":e&&c>e?"completed":"upcoming"}else"ongoing"===a.status?b="ongoing":("completed"===a.status||"cancelled"===a.status||"archived"===a.status)&&(b="completed");return{id:a.id??"",title:a.title??"",description:a.description??null,start_date:a.start_date??"",end_date:a.end_date??"",time:a.time??"",location:a.location??"",category:a.category??null,status:b,capacity:a.capacity||a.max_attendees||null,attendees:a.attendees||a.current_attendees||null,currency:a.currency||"IDR",price:a.price||null,price_range:a.price_range||null,artists:a.artists||[],gallery:a.gallery||[],highlights:a.highlights||[],metadata:a.metadata??{},created_at:a.created_at,updated_at:a.updated_at,tags:a.tags||[],image_url:a.image_url||"",partner_name:a.partner_name||"",partner_logo_url:a.partner_logo_url||""}})}catch(a){return console.error("Error in fetchEvents:",a),[]}},v=async()=>{try{let{data:a,error:b}=await d.supabaseClient.from("team_members").select("*").eq("status","active").order("display_order").order("name");if(b)return console.error("Error fetching team members:",b),n;return(a||[]).map(a=>({id:a.id,name:a.name||"",title:a.title||a.role||void 0,bio:a.bio||void 0,avatar_url:a.avatar_url||void 0,email:a.email||void 0,status:a.status||"active",social_links:j(a.social_links),display_order:a.display_order||void 0,created_at:a.created_at,updated_at:a.updated_at,linkedin_url:a.linkedin_url||null}))}catch(a){return console.error("Error in fetchTeamMembers:",a),n}},w=async()=>{try{let{data:a,error:b}=await d.supabaseClient.from("partners").select("*").eq("status","active").order("name");if(b)return console.error("Error fetching partners:",b),l;return(a||[]).map(a=>({id:a.id,name:a.name||"",description:a.description||void 0,logo_url:a.logo_url||void 0,website_url:a.website_url||void 0,category:a.category||void 0,status:a.status||"active",contact_email:a.contact_email||void 0,contact_phone:a.contact_phone||void 0,social_links:j(a.social_links),created_at:a.created_at,updated_at:a.updated_at,address:a.address||null,city:a.city||null,country:a.country||null}))}catch(a){return console.error("Error in fetchPartners:",a),l}},x=async()=>{try{let{data:a,error:b}=await d.supabaseClient.from("gallery_items").select("*").order("display_order").order("created_at",{ascending:!1});if(b)return console.error("Error fetching gallery:",b),m;return(a||[]).map(a=>({id:a.id,title:a.title||void 0,description:a.description||void 0,image_url:a.image_url||void 0,category:a.category||void 0,status:a.status||void 0,tags:a.tags||void 0,created_at:a.created_at||void 0,updated_at:a.updated_at||void 0,display_order:a.display_order||null,event_id:a.event_id||null,metadata:a.metadata??{},partner_id:a.partner_id||null,thumbnail_url:a.thumbnail_url||null}))}catch(a){return console.error("Error in fetchGallery:",a),m}},y=(0,c.createContext)(null);function z(){let a=(0,c.useContext)(y);if(!a)throw Error("useContent must be within ContentProvider");return a}a.s(["ContentProvider",0,({children:a})=>{let{user:j,role:z}=(0,i.useAuth)(),[A,B]=(0,c.useState)(k),[C,D]=(0,c.useState)(l),[E,F]=(0,c.useState)(m),[G,H]=(0,c.useState)(n),[I,J]=(0,c.useState)(o),[K,L]=(0,c.useState)(p),[M,N]=(0,c.useState)(q),[O,P]=(0,c.useState)(!0),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)({}),[W,X]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{P(!0),R(null);try{let[a,b,c,d,e,f,g]=await Promise.all([u(),w(),x(),v(),r(),s(),t()]);B(a),D(b),F(c),H(d),J(e),L(f),N(g)}catch(a){console.error("Error initializing content:",a),R("Failed to load content")}finally{P(!1)}})()},[]),(0,c.useEffect)(()=>{(async()=>{if(!j||"admin"!==z){T([]),V({});return}X(!0);try{let{data:a,error:b}=await d.supabaseClient.rpc("get_admin_sections_for_user",{p_user_id:j.id});if(b)return void console.error("Error fetching admin sections:",b);let c=(a||[]).map(a=>({id:a.id,slug:a.slug,label:a.label,display_name:a.label,name:a.slug,description:a.description,display_order:a.order_index,icon:a.icon,category:a.category,enabled:a.enabled,created_at:a.created_at,updated_at:a.updated_at,permissions:["view","edit"]}));T(c);let e=c.map(async a=>{let{data:b,error:c}=await d.supabaseClient.rpc("get_section_content",{p_section_slug:a.slug,p_user_id:j.id});if(c)return console.error(`Error fetching section content for ${a.slug}:`,c),{sectionId:a.id,sectionSlug:a.slug,content:null};let e=b&&b.length>0?b[0]:null;return{sectionId:a.id,sectionSlug:a.slug,content:e}}),f=await Promise.all(e),g={};f.forEach(({sectionSlug:a,content:b})=>{b&&a&&(g[a]=b)}),V(g)}catch(a){console.error("Error initializing admin sections:",a)}finally{X(!1)}})()},[j,z]);let Y=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("events").insert(a).select().single();if(c)throw c;return B(a=>[...a,b]),b}catch(a){throw console.error("Error adding event:",a),a}},Z=async(a,b)=>{try{let{data:c,error:e}=await d.supabaseClient.from("events").update(b).eq("id",a).select().single();if(e)throw e;return B(b=>b.map(b=>b.id===a?c:b)),c}catch(a){throw console.error("Error updating event:",a),a}},$=async a=>{try{let b=A.find(b=>b.id===a);b?.image_url&&await e(b.image_url);let{error:c}=await d.supabaseClient.from("events").delete().eq("id",a);if(c)throw c;B(b=>b.filter(b=>b.id!==a))}catch(a){throw console.error("Error deleting event:",a),a}},_=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("team_members").insert(a).select().single();if(c)throw c;return H(a=>[...a,b]),b}catch(a){throw console.error("Error adding team member:",a),a}},aa=async(a,b)=>{try{let{data:c,error:e}=await d.supabaseClient.from("team_members").update(b).eq("id",a).select().single();if(e)throw e;return H(b=>b.map(b=>b.id===a?c:b)),c}catch(a){throw console.error("Error updating team member:",a),a}},ab=async a=>{try{let b=G.find(b=>b.id===a);b?.avatar_url&&await f(b.avatar_url);let{error:c}=await d.supabaseClient.from("team_members").delete().eq("id",a);if(c)throw c;H(b=>b.filter(b=>b.id!==a))}catch(a){throw console.error("Error deleting team member:",a),a}},ac=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("partners").insert(a).select().single();if(c)throw c;return D(a=>[...a,b]),b}catch(a){throw console.error("Error adding partner:",a),a}},ad=async(a,b)=>{try{let{data:c,error:e}=await d.supabaseClient.from("partners").update(b).eq("id",a).select().single();if(e)throw e;return D(b=>b.map(b=>b.id===a?c:b)),c}catch(a){throw console.error("Error updating partner:",a),a}},ae=async a=>{try{let b=C.find(b=>b.id===a);b?.logo_url&&await g(b.logo_url);let{error:c}=await d.supabaseClient.from("partners").delete().eq("id",a);if(c)throw c;D(b=>b.filter(b=>b.id!==a))}catch(a){throw console.error("Error deleting partner:",a),a}},af=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("gallery_items").insert(a).select().single();if(c)throw c;return F(a=>[...a,b]),b}catch(a){throw console.error("Error adding gallery image:",a),a}},ag=async(a,b)=>{try{let{data:c,error:e}=await d.supabaseClient.from("gallery_items").update(b).eq("id",a).select().single();if(e)throw e;return F(b=>b.map(b=>b.id===a?c:b)),c}catch(a){throw console.error("Error updating gallery image:",a),a}},ah=async a=>{try{let b=E.find(b=>b.id===a);b?.image_url&&await h(b.image_url);let{error:c}=await d.supabaseClient.from("gallery_items").delete().eq("id",a);if(c)throw c;F(b=>b.filter(b=>b.id!==a))}catch(a){throw console.error("Error deleting gallery image:",a),a}},ai=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("event_artists").select("*").eq("event_id",a).order("display_order");if(c)throw c;return(b||[]).map(a=>({id:a.id,event_id:a.event_id,name:a.name,role:a.role||void 0,image:a.image||void 0,display_order:a.display_order||0,created_at:a.created_at,updated_at:a.updated_at}))}catch(a){throw console.error("Error fetching event artists:",a),a}},aj=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("event_artists").insert(a).select().single();if(c)throw c;return b}catch(a){throw console.error("Error adding event artist:",a),a}},ak=async(a,b)=>{try{let{data:c,error:e}=await d.supabaseClient.from("event_artists").update(b).eq("id",a).select().single();if(e)throw e;return c}catch(a){throw console.error("Error updating event artist:",a),a}},al=async a=>{try{let{error:b}=await d.supabaseClient.from("event_artists").delete().eq("id",a);if(b)throw b}catch(a){throw console.error("Error deleting event artist:",a),a}},am=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("hero_content").upsert({...a,updated_at:new Date().toISOString()}).select().single();if(c)throw c;return J(b),b}catch(a){throw console.error("Error saving hero content:",a),a}},an=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("about_content").upsert({...a,updated_at:new Date().toISOString()}).select().single();if(c)throw c;return L(b),b}catch(a){throw console.error("Error saving about content:",a),a}},ao=async a=>{try{let{data:b,error:c}=await d.supabaseClient.from("site_settings").upsert({...a,updated_at:new Date().toISOString()}).select().single();if(c)throw c;return N(b),b}catch(a){throw console.error("Error saving site settings:",a),a}},ap=a=>U[a]||null,aq=()=>[],ar=async(a,b)=>{try{let{data:c,error:e}=await d.supabaseClient.from("section_content").upsert({...b,section_id:a,updated_at:new Date().toISOString()}).select().single();if(e)throw e;return V(b=>({...b,[a]:c})),c}catch(a){throw console.error("Error updating section content:",a),a}},as=c.default.useMemo(()=>({events:A,partners:C,gallery:E,team:G,hero:I,about:K,settings:M,loading:O,error:Q,addEvent:Y,updateEvent:Z,deleteEvent:$,addTeamMember:_,updateTeamMember:aa,deleteTeamMember:ab,addPartner:ac,updatePartner:ad,deletePartner:ae,addGalleryImage:af,updateGalleryImage:ag,deleteGalleryImage:ah,fetchEventArtists:ai,addEventArtist:aj,updateEventArtist:ak,deleteEventArtist:al,saveHeroContent:am,saveAboutContent:an,saveSiteSettings:ao,adminSections:S,sectionContent:U,adminSectionsLoading:W,getSectionContent:ap,getSectionPermissions:aq,updateSectionContent:ar}),[A,C,E,G,I,K,M,O,Q,S,U,W,$,ah,ae,ab,ap,aq]);return(0,b.jsx)(y.Provider,{value:as,children:a})},"useContent",()=>z],98345)}];

//# sourceMappingURL=providers_content-provider_tsx_98f53026._.js.map