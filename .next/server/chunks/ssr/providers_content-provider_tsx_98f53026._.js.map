{"version":3,"sources":["../../../../providers/content-provider.tsx","../../../../utils/storageHelpers.ts"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';\n\nimport { supabaseClient } from '../lib/supabase/client';\nimport type {\n  TeamMember,\n  Partner,\n  HeroContent,\n  AboutContent,\n  GalleryImage,\n  SiteSettings,\n  ContentContextType,\n  AdminSection,\n  SectionContent,\n  SectionPermissions,\n  LandingEvent,\n  EventArtist,\n} from '../types/content';\nimport type { Json, TablesInsert, TablesUpdate } from '../types/supabase';\nimport { cleanupEventAssets, cleanupTeamMemberAsset, cleanupPartnerAsset, cleanupGalleryAsset } from '../utils/storageHelpers';\n\nimport { useAuth } from './auth-provider';\n\n\nconst normalizeSocialLinks = (value: Json | undefined): Record<string, string | null> => {\n  if (!value || typeof value === 'string') return {};\n  if (Array.isArray(value)) return {};\n  return Object.entries(value as Record<string, Json | undefined>).reduce<Record<string, string | null>>(\n    (acc, [key, entry]) => {\n      if (typeof entry === 'string') {\n        acc[key] = entry;\n      } else if (typeof entry === 'number' || typeof entry === 'boolean') {\n        acc[key] = String(entry);\n      } else if (entry === null || entry === undefined) {\n        acc[key] = null;\n      }\n      return acc;\n    },\n    {},\n  );\n};\n\nconst ensureStringArray = (value: Json | undefined): string[] | undefined => {\n  if (!value) return undefined;\n  if (Array.isArray(value)) {\n    return value.filter((item): item is string => typeof item === 'string');\n  }\n  return undefined;\n};\n\n// Initial data aligned with new types\nconst INITIAL_EVENTS: LandingEvent[] = [];\nconst INITIAL_PARTNERS: Partner[] = [];\nconst INITIAL_GALLERY: GalleryImage[] = [];\nconst INITIAL_TEAM: TeamMember[] = [];\nconst INITIAL_HERO: HeroContent = {\n  id: '00000000-0000-0000-0000-000000000001',\n  title: 'WildOut!',\n  subtitle: 'Media Digital Nightlife & Event Multi-Platform',\n  description: \"Indonesia's premier creative community connecting artists, events, and experiences.\",\n  stats: { events: '500+', members: '50K+', partners: '100+' },\n  cta_text: 'Join Us',\n  cta_link: '/events',\n  created_at: new Date().toISOString(),\n  updated_at: new Date().toISOString(),\n  updated_by: null,\n};\nconst INITIAL_ABOUT: AboutContent = {\n  id: '00000000-0000-0000-0000-000000000002',\n  title: 'About WildOut!',\n  subtitle: \"Indonesia's leading creative community platform, connecting artists, events, and experiences since 2020.\",\n  founded_year: '2020',\n  story: [\n    'Founded in 2020, WildOut! celebrates Indonesiaâ€™s creative culture.',\n    'We host community-driven events that bring artists, venues, and sponsors together.',\n  ],\n  features: [\n    { title: 'Community First', description: 'We build lasting connections.' },\n    { title: 'Unforgettable Experiences', description: 'Every event is crafted to be memorable.' },\n  ],\n  created_at: new Date().toISOString(),\n  updated_at: new Date().toISOString(),\n  updated_by: null,\n};\nconst INITIAL_SETTINGS: SiteSettings = {\n  id: '00000000-0000-0000-0000-000000000003',\n  site_name: 'WildOut!',\n  site_description: \"Indonesia's premier creative community platform\",\n  tagline: \"Indonesia's premier creative community platform\",\n  email: 'contact@wildout.id',\n  phone: '+62 21 1234 567',\n  address: 'Jakarta, Indonesia',\n  social_media: {\n    instagram: 'https://instagram.com/wildout.id',\n    twitter: 'https://twitter.com/wildout_id',\n    facebook: 'https://facebook.com/wildout.id',\n    youtube: 'https://youtube.com/@wildout',\n  },\n  created_at: new Date().toISOString(),\n  updated_at: new Date().toISOString(),\n  updated_by: null,\n};\n\n// Fetch functions using content.ts types\nconst fetchHeroContent = async (): Promise<HeroContent> => {\n  try {\n    const { data, error } = await supabaseClient.rpc('get_hero_content');\n    if (error) {\n      console.error('Error fetching hero content:', error);\n      return INITIAL_HERO;\n    }\n    const result = data?.[0];\n    if (result) {\n      return {\n        id: result.id ?? INITIAL_HERO.id,\n        title: result.title ?? INITIAL_HERO.title,\n        subtitle: result.subtitle ?? INITIAL_HERO.subtitle,\n        description: result.description ?? INITIAL_HERO.description,\n        stats: typeof result.stats === 'string' ? JSON.parse(result.stats) ?? INITIAL_HERO.stats : (result.stats ?? INITIAL_HERO.stats),\n        cta_text: result.cta_text ?? INITIAL_HERO.cta_text,\n        cta_link: result.cta_link ?? INITIAL_HERO.cta_link,\n        created_at: result.created_at ?? INITIAL_HERO.created_at,\n        updated_at: result.updated_at ?? INITIAL_HERO.updated_at,\n        updated_by: result.updated_by ?? INITIAL_HERO.updated_by,\n      };\n    }\n    return INITIAL_HERO;\n  } catch (error) {\n    console.error('Error in fetchHeroContent:', error);\n    return INITIAL_HERO;\n  }\n};\n\nconst fetchAboutContent = async (): Promise<AboutContent> => {\n  try {\n    const { data, error } = await supabaseClient.rpc('get_about_content');\n    if (error) {\n      console.error('Error fetching about content:', error);\n      return INITIAL_ABOUT;\n    }\n    const result = data?.[0];\n    if (result) {\n      return {\n        id: result.id ?? INITIAL_ABOUT.id,\n        title: result.title ?? INITIAL_ABOUT.title,\n        subtitle: result.subtitle ?? INITIAL_ABOUT.subtitle,\n        founded_year: result.founded_year ?? INITIAL_ABOUT.founded_year,\n        story: ensureStringArray(result.story) ?? INITIAL_ABOUT.story,\n        features: typeof result.features === 'string' ? JSON.parse(result.features) ?? INITIAL_ABOUT.features : (result.features ?? INITIAL_ABOUT.features),\n        created_at: result.created_at ?? INITIAL_ABOUT.created_at,\n        updated_at: result.updated_at ?? INITIAL_ABOUT.updated_at,\n        updated_by: result.updated_by ?? INITIAL_ABOUT.updated_by,\n      };\n    }\n    return INITIAL_ABOUT;\n  } catch (error) {\n    console.error('Error in fetchAboutContent:', error);\n    return INITIAL_ABOUT;\n  }\n};\n\nconst fetchSiteSettings = async (): Promise<SiteSettings> => {\n  try {\n    const { data, error } = await supabaseClient.rpc('get_site_settings');\n    if (error) {\n      console.error('Error fetching site settings:', error);\n      return INITIAL_SETTINGS;\n    }\n    const result = data?.[0];\n    if (result) {\n      return {\n        id: result.id ?? INITIAL_SETTINGS.id,\n        site_name: result.site_name ?? INITIAL_SETTINGS.site_name,\n        site_description: result.site_description ?? INITIAL_SETTINGS.site_description,\n        tagline: result.tagline ?? INITIAL_SETTINGS.tagline,\n        email: result.email ?? INITIAL_SETTINGS.email,\n        phone: result.phone ?? INITIAL_SETTINGS.phone,\n        address: result.address ?? INITIAL_SETTINGS.address,\n        social_media: normalizeSocialLinks(result.social_media) as Record<string, string>,\n        created_at: result.created_at ?? INITIAL_SETTINGS.created_at,\n        updated_at: result.updated_at ?? INITIAL_SETTINGS.updated_at,\n        updated_by: result.updated_by ?? INITIAL_SETTINGS.updated_by,\n      };\n    }\n    return INITIAL_SETTINGS;\n  } catch (error) {\n    console.error('Error in fetchSiteSettings:', error);\n    return INITIAL_SETTINGS;\n  }\n};\n\nconst fetchEvents = async (): Promise<LandingEvent[]> => {\n  try {\n    const { data, error } = await supabaseClient\n      .from('public_events_view')\n      .select('*')\n      .order('start_date', { ascending: true });\n    if (error) {\n      console.error('Error fetching events:', error);\n      return [];\n    }\n    return (data || []).map((row: Database['public']['Views']['public_events_view']['Row']): LandingEvent => {\n      // Map database status to LandingEvent status\n      let status: LandingEvent['status'] = 'upcoming';\n      if (row.status === 'published') {\n        // Check if event is ongoing or upcoming based on dates\n        const now = new Date();\n        const startDate = row.start_date ? new Date(row.start_date) : null;\n        const endDate = row.end_date ? new Date(row.end_date) : null;\n        if (startDate && endDate && now >= startDate && now <= endDate) {\n          status = 'ongoing';\n        } else if (endDate && now > endDate) {\n          status = 'completed';\n        } else {\n          status = 'upcoming';\n        }\n      } else if (row.status === 'ongoing') {\n        status = 'ongoing';\n      } else if (row.status === 'completed' || row.status === 'cancelled' || row.status === 'archived') {\n        status = 'completed';\n      }\n\n      return {\n        id: row.id ?? '',\n        title: row.title ?? '',\n        description: row.description ?? null,\n        start_date: row.start_date ?? '',\n        end_date: row.end_date ?? '',\n        time: row.time ?? '',\n        location: row.location ?? '',\n        // address: row.address ?? '',\n        category: row.category ?? null,\n        status,\n        capacity: row.capacity || row.max_attendees || null,\n        attendees: row.attendees || row.current_attendees || null,\n        currency: row.currency || 'IDR',\n        price: row.price || null,\n        price_range: row.price_range || null,\n        // ticket_url: row.ticket_url || null,\n        artists: row.artists || [],\n        gallery: row.gallery || [],\n        highlights: row.highlights || [],\n        metadata: row.metadata ?? {},\n        created_at: row.created_at,\n        updated_at: row.updated_at,\n        tags: row.tags || [],\n        image_url: row.image_url || '',\n        partner_name: row.partner_name || '',\n        partner_logo_url: row.partner_logo_url || '',\n      };\n    }) as LandingEvent[];\n  } catch (error) {\n    console.error('Error in fetchEvents:', error);\n    return [];\n  }\n};\n\nconst fetchTeamMembers = async (): Promise<TeamMember[]> => {\n  try {\n    const { data, error } = await supabaseClient\n      .from('team_members')\n      .select('*')\n      .eq('status', 'active')\n      .order('display_order')\n      .order('name');\n    if (error) {\n      console.error('Error fetching team members:', error);\n      return INITIAL_TEAM;\n    }\n    return (data || []).map((row: Database['public']['Tables']['team_members']['Row']): TeamMember => ({\n      id: row.id,\n      name: row.name || '',\n      title: row.title || row.role || undefined,\n      bio: row.bio || undefined,\n      avatar_url: row.avatar_url || undefined,\n      email: row.email || undefined,\n      status: row.status as 'active' | 'inactive' | undefined || 'active',\n      social_links: normalizeSocialLinks(row.social_links),\n      display_order: row.display_order || undefined,\n      created_at: row.created_at,\n      updated_at: row.updated_at,\n      linkedin_url: row.linkedin_url || null,\n    }));\n  } catch (error) {\n    console.error('Error in fetchTeamMembers:', error);\n    return INITIAL_TEAM;\n  }\n};\n\nconst fetchPartners = async (): Promise<Partner[]> => {\n  try {\n    const { data, error } = await supabaseClient\n      .from('partners')\n      .select('*')\n      .eq('status', 'active')\n      .order('name');\n    if (error) {\n      console.error('Error fetching partners:', error);\n      return INITIAL_PARTNERS;\n    }\n    // Map database rows to our Partner type\n    return (data || []).map((row: Database['public']['Tables']['partners']['Row']): Partner => ({\n      id: row.id,\n      name: row.name || '',\n      description: row.description || undefined,\n      logo_url: row.logo_url || undefined,\n      website_url: row.website_url || undefined,\n      category: row.category || undefined,\n      status: row.status as 'active' | 'inactive' | undefined || 'active',\n      // featured: row.featured || undefined,\n      contact_email: row.contact_email || undefined,\n      contact_phone: row.contact_phone || undefined,\n      social_links: normalizeSocialLinks(row.social_links),\n      created_at: row.created_at,\n      updated_at: row.updated_at,\n      address: row.address || null,\n      city: row.city || null,\n      country: row.country || null,\n    }));\n  } catch (error) {\n    console.error('Error in fetchPartners:', error);\n    return INITIAL_PARTNERS;\n  }\n};\n\nconst fetchGallery = async (): Promise<GalleryImage[]> => {\n  try {\n    const { data, error } = await supabaseClient\n      .from('gallery_items')\n      .select('*')\n      .order('display_order')\n      .order('created_at', { ascending: false });\n    if (error) {\n      console.error('Error fetching gallery:', error);\n      return INITIAL_GALLERY;\n    }\n    return (data || []).map((row: Database['public']['Tables']['gallery_items']['Row']): GalleryImage => ({\n      id: row.id,\n      title: row.title || undefined,\n      description: row.description || undefined,\n      image_url: row.image_url || undefined,\n      category: row.category || undefined,\n      status: row.status || undefined,\n      tags: row.tags || undefined,\n      // caption: row.title || undefined,\n      // uploadDate: row.created_at || undefined,\n      // event: undefined,\n      created_at: row.created_at || undefined,\n      updated_at: row.updated_at || undefined,\n      display_order: row.display_order || null,\n      event_id: row.event_id || null,\n      metadata: row.metadata ?? {},\n      partner_id: row.partner_id || null,\n      thumbnail_url: row.thumbnail_url || null,\n    }));\n  } catch (error) {\n    console.error('Error in fetchGallery:', error);\n    return INITIAL_GALLERY;\n  }\n};\n\n// Content context implementation\nconst ContentContext = createContext<ContentContextType | null>(null);\n\nexport const ContentProvider = ({ children }: { children: ReactNode }) => {\n  const { user, role: userRole } = useAuth();\n  const [events, setEvents] = useState<LandingEvent[]>(INITIAL_EVENTS);\n  const [partners, setPartners] = useState<Partner[]>(INITIAL_PARTNERS);\n  const [gallery, setGallery] = useState<GalleryImage[]>(INITIAL_GALLERY);\n  const [team, setTeam] = useState<TeamMember[]>(INITIAL_TEAM);\n  const [hero, setHero] = useState<HeroContent>(INITIAL_HERO);\n  const [about, setAbout] = useState<AboutContent>(INITIAL_ABOUT);\n  const [settings, setSettings] = useState<SiteSettings>(INITIAL_SETTINGS);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Admin sections data\n  const [adminSections, setAdminSections] = useState<AdminSection[]>([]);\n  const [sectionContent, setSectionContent] = useState<Record<string, SectionContent>>({});\n  const [adminSectionsLoading, setAdminSectionsLoading] = useState(false);\n\n  // Fetch initial data\n  useEffect(() => {\n    const initializeData = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const [eventsData, partnersData, galleryData, teamData, heroData, aboutData, settingsData] = await Promise.all([\n          fetchEvents(),\n          fetchPartners(),\n          fetchGallery(),\n          fetchTeamMembers(),\n          fetchHeroContent(),\n          fetchAboutContent(),\n          fetchSiteSettings(),\n        ]);\n        setEvents(eventsData);\n        setPartners(partnersData);\n        setGallery(galleryData);\n        setTeam(teamData);\n        setHero(heroData);\n        setAbout(aboutData);\n        setSettings(settingsData);\n      } catch (err) {\n        console.error('Error initializing content:', err);\n        setError('Failed to load content');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    initializeData();\n  }, []);\n\n  // Fetch admin sections\n  useEffect(() => {\n    const initializeAdminSections = async () => {\n      if (!user || userRole !== 'admin') {\n        setAdminSections([]);\n        setSectionContent({});\n        return;\n      }\n\n      setAdminSectionsLoading(true);\n      try {\n        // Use RPC to get sections enabled for the user\n        const { data, error } = await supabaseClient\n          .rpc('get_admin_sections_for_user', { p_user_id: user.id });\n\n        if (error) {\n          console.error('Error fetching admin sections:', error);\n          return;\n        }\n\n        const sections = (data || []).map((row: Database['public']['Functions']['get_admin_sections_for_user']['Returns'][number]) => ({\n          id: row.id,\n          slug: row.slug,\n          label: row.label,\n          display_name: row.label, // mapped for compatibility\n          name: row.slug, // mapped for compatibility\n          description: row.description,\n          display_order: row.order_index,\n          icon: row.icon,\n          category: row.category,\n          enabled: row.enabled,\n          created_at: row.created_at,\n          updated_at: row.updated_at,\n          permissions: ['view', 'edit'], // Default permissions for now since RPC filters access\n        }));\n\n        setAdminSections(sections);\n\n        // Fetch section content using RPC\n        const contentPromises = sections.map(async (section: AdminSection) => {\n          const { data, error } = await supabaseClient\n            .rpc('get_section_content', {\n              p_section_slug: section.slug,\n              p_user_id: user.id,\n            });\n\n          if (error) {\n            console.error(`Error fetching section content for ${section.slug}:`, error);\n            return { sectionId: section.id, sectionSlug: section.slug, content: null };\n          }\n\n          // RPC returns an array, take the first item if available\n          const contentData = data && data.length > 0 ? data[0] : null;\n\n          return {\n            sectionId: section.id,\n            sectionSlug: section.slug,\n            content: contentData,\n          };\n        });\n\n        const contentResults = await Promise.all(contentPromises);\n        const newSectionContent: Record<string, SectionContent> = {};\n        contentResults.forEach(({ sectionSlug, content }: { sectionSlug: string; content: SectionContent | null }) => {\n          if (content && sectionSlug) {\n            newSectionContent[sectionSlug] = content;\n          }\n        });\n\n        setSectionContent(newSectionContent);\n      } catch (err) {\n        console.error('Error initializing admin sections:', err);\n      } finally {\n        setAdminSectionsLoading(false);\n      }\n    };\n\n    initializeAdminSections();\n  }, [user, userRole]);\n\n  // Event mutations\n  const addEvent = async (event: TablesInsert<'events'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('events')\n        .insert(event)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setEvents((prev) => [...prev, data as LandingEvent]);\n      return data;\n    } catch (err) {\n      console.error('Error adding event:', err);\n      throw err;\n    }\n  };\n\n  const updateEvent = async (id: string, updates: TablesUpdate<'events'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('events')\n        .update(updates)\n        .eq('id', id)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setEvents((prev) => prev.map((event) => (event.id === id ? (data as LandingEvent) : event)));\n      return data;\n    } catch (err) {\n      console.error('Error updating event:', err);\n      throw err;\n    }\n  };\n\n  const deleteEvent = async (id: string) => {\n    try {\n      const itemToDelete = events.find((event) => event.id === id);\n      if (itemToDelete?.image_url) {\n        await cleanupEventAssets(itemToDelete.image_url);\n      }\n\n      const { error } = await supabaseClient.from('events').delete().eq('id', id);\n      if (error) throw error;\n\n      setEvents((prev) => prev.filter((event) => event.id !== id));\n    } catch (err) {\n      console.error('Error deleting event:', err);\n      throw err;\n    }\n  };\n\n  // Team member mutations\n  const addTeamMember = async (member: TablesInsert<'team_members'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('team_members')\n        .insert(member)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setTeam((prev) => [...prev, data as TeamMember]);\n      return data;\n    } catch (err) {\n      console.error('Error adding team member:', err);\n      throw err;\n    }\n  };\n\n  const updateTeamMember = async (id: string, updates: TablesUpdate<'team_members'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('team_members')\n        .update(updates)\n        .eq('id', id)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setTeam((prev) => prev.map((member) => (member.id === id ? (data as TeamMember) : member)));\n      return data;\n    } catch (err) {\n      console.error('Error updating team member:', err);\n      throw err;\n    }\n  };\n\n  const deleteTeamMember = async (id: string) => {\n    try {\n      const itemToDelete = team.find((member) => member.id === id);\n      if (itemToDelete?.avatar_url) {\n        await cleanupTeamMemberAsset(itemToDelete.avatar_url);\n      }\n\n      const { error } = await supabaseClient.from('team_members').delete().eq('id', id);\n      if (error) throw error;\n\n      setTeam((prev) => prev.filter((member) => member.id !== id));\n    } catch (err) {\n      console.error('Error deleting team member:', err);\n      throw err;\n    }\n  };\n\n  // Partner mutations\n  const addPartner = async (partner: TablesInsert<'partners'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('partners')\n        .insert(partner)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setPartners((prev) => [...prev, data as Partner]);\n      return data;\n    } catch (err) {\n      console.error('Error adding partner:', err);\n      throw err;\n    }\n  };\n\n  const updatePartner = async (id: string, updates: TablesUpdate<'partners'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('partners')\n        .update(updates)\n        .eq('id', id)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setPartners((prev) => prev.map((partner) => (partner.id === id ? (data as Partner) : partner)));\n      return data;\n    } catch (err) {\n      console.error('Error updating partner:', err);\n      throw err;\n    }\n  };\n\n  const deletePartner = async (id: string) => {\n    try {\n      const itemToDelete = partners.find((partner) => partner.id === id);\n      if (itemToDelete?.logo_url) {\n        await cleanupPartnerAsset(itemToDelete.logo_url);\n      }\n\n      const { error } = await supabaseClient.from('partners').delete().eq('id', id);\n      if (error) throw error;\n\n      setPartners((prev) => prev.filter((partner) => partner.id !== id));\n    } catch (err) {\n      console.error('Error deleting partner:', err);\n      throw err;\n    }\n  };\n\n  // Gallery mutations\n  const addGalleryImage = async (image: TablesInsert<'gallery_items'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('gallery_items')\n        .insert(image)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setGallery((prev) => [...prev, data as GalleryImage]);\n      return data;\n    } catch (err) {\n      console.error('Error adding gallery image:', err);\n      throw err;\n    }\n  };\n\n  const updateGalleryImage = async (id: string, updates: TablesUpdate<'gallery_items'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('gallery_items')\n        .update(updates)\n        .eq('id', id)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setGallery((prev) => prev.map((image) => (image.id === id ? (data as GalleryImage) : image)));\n      return data;\n    } catch (err) {\n      console.error('Error updating gallery image:', err);\n      throw err;\n    }\n  };\n\n  const deleteGalleryImage = async (id: string) => {\n    try {\n      const itemToDelete = gallery.find((image) => image.id === id);\n      if (itemToDelete?.image_url) {\n        await cleanupGalleryAsset(itemToDelete.image_url);\n      }\n\n      const { error } = await supabaseClient.from('gallery_items').delete().eq('id', id);\n      if (error) throw error;\n\n      setGallery((prev) => prev.filter((image) => image.id !== id));\n    } catch (err) {\n      console.error('Error deleting gallery image:', err);\n      throw err;\n    }\n  };\n\n  // Event Artists mutations\n  const fetchEventArtists = async (eventId: string): Promise<EventArtist[]> => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('event_artists')\n        .select('*')\n        .eq('event_id', eventId)\n        .order('display_order');\n\n      if (error) throw error;\n\n      return (data || []).map((row: Database['public']['Tables']['event_artists']['Row']) => ({\n        id: row.id,\n        event_id: row.event_id,\n        name: row.name,\n        role: row.role || undefined,\n        image: row.image || undefined,\n        display_order: row.display_order || 0,\n        created_at: row.created_at,\n        updated_at: row.updated_at,\n      }));\n    } catch (err) {\n      console.error('Error fetching event artists:', err);\n      throw err;\n    }\n  };\n\n  const addEventArtist = async (artist: Omit<EventArtist, 'id' | 'created_at' | 'updated_at'>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('event_artists')\n        .insert(artist)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      return data;\n    } catch (err) {\n      console.error('Error adding event artist:', err);\n      throw err;\n    }\n  };\n\n  const updateEventArtist = async (id: string, updates: Partial<Omit<EventArtist, 'id' | 'created_at' | 'updated_at'>>) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('event_artists')\n        .update(updates)\n        .eq('id', id)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      return data;\n    } catch (err) {\n      console.error('Error updating event artist:', err);\n      throw err;\n    }\n  };\n\n  const deleteEventArtist = async (id: string) => {\n    try {\n      const { error } = await supabaseClient.from('event_artists').delete().eq('id', id);\n      if (error) throw error;\n    } catch (err) {\n      console.error('Error deleting event artist:', err);\n      throw err;\n    }\n  };\n\n  // Content mutations\n  const saveHeroContent = async (content: HeroContent) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('hero_content')\n        .upsert({\n          ...content,\n          updated_at: new Date().toISOString(),\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setHero(data);\n      return data;\n    } catch (err) {\n      console.error('Error saving hero content:', err);\n      throw err;\n    }\n  };\n\n  const saveAboutContent = async (content: AboutContent) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('about_content')\n        .upsert({\n          ...content,\n          updated_at: new Date().toISOString(),\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setAbout(data);\n      return data;\n    } catch (err) {\n      console.error('Error saving about content:', err);\n      throw err;\n    }\n  };\n\n  const saveSiteSettings = async (settings: SiteSettings) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('site_settings')\n        .upsert({\n          ...settings,\n          updated_at: new Date().toISOString(),\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setSettings(data);\n      return data;\n    } catch (err) {\n      console.error('Error saving site settings:', err);\n      throw err;\n    }\n  };\n\n  // Admin sections methods\n  const getSectionContent = (sectionId: string): SectionContent | null => {\n    return sectionContent[sectionId] || null;\n  };\n\n  const getSectionPermissions = (): SectionPermissions[] => {\n    // TODO: Add permissions field to AdminSection type in types/content.ts\n    return [];\n  };\n\n  const updateSectionContent = async (sectionId: string, content: SectionContent) => {\n    try {\n      const { data, error } = await supabaseClient\n        .from('section_content')\n        .upsert({\n          ...content,\n          section_id: sectionId,\n          updated_at: new Date().toISOString(),\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      setSectionContent((prev) => ({\n        ...prev,\n        [sectionId]: data,\n      }));\n\n      return data;\n    } catch (err) {\n      console.error('Error updating section content:', err);\n      throw err;\n    }\n  };\n\n  const value = React.useMemo(() => ({\n    // Content data\n    // TODO: Map LandingEvent[] to the expected interface with all required fields\n    events: events as LandingEvent[],\n    partners,\n    gallery,\n    team,\n    hero,\n    about,\n    settings,\n    // Loaders & errors\n    loading,\n    error,\n    // Event mutations\n    addEvent,\n    updateEvent,\n    deleteEvent,\n    // Team member mutations\n    addTeamMember,\n    updateTeamMember,\n    deleteTeamMember,\n    // Partner mutations\n    addPartner,\n    updatePartner,\n    deletePartner,\n    // Gallery mutations\n    addGalleryImage,\n    updateGalleryImage,\n    deleteGalleryImage,\n\n    // Event Artists mutations\n    fetchEventArtists,\n    addEventArtist,\n    updateEventArtist,\n    deleteEventArtist,\n\n    // Content mutations\n    saveHeroContent,\n    saveAboutContent,\n    saveSiteSettings,\n    // Admin sections\n    adminSections,\n    sectionContent,\n    adminSectionsLoading,\n    getSectionContent,\n    getSectionPermissions,\n    updateSectionContent,\n  }), [\n    events, partners, gallery, team, hero, about, settings, loading, error,\n    adminSections, sectionContent, adminSectionsLoading,\n    deleteEvent, deleteGalleryImage, deletePartner, deleteTeamMember, getSectionContent, getSectionPermissions,\n  ]);\n\n  return <ContentContext.Provider value={value}>{children}</ContentContext.Provider>;\n}\n\nexport function useContent() {\n  const context = useContext(ContentContext);\n  if (!context) throw new Error('useContent must be within ContentProvider');\n  return context;\n}\n","/**\n * Utility functions for cleaning up storage assets when items are deleted\n */\n\n/**\n * Cleanup function for event assets\n * @param imageUrl - URL of the image to delete\n */\nexport const cleanupEventAssets = async (imageUrl: string): Promise<void> => {\n  // Placeholder implementation - in a real app, this would call Supabase Storage API\n  console.log('Cleaning up event asset:', imageUrl);\n  // Implementation would involve:\n  // 1. Calling Supabase Storage API to delete the file\n  // 2. Handling potential errors gracefully\n  // 3. Logging cleanup operations\n};\n\n/**\n * Cleanup function for team member assets\n * @param avatarUrl - URL of the avatar to delete\n */\nexport const cleanupTeamMemberAsset = async (avatarUrl: string): Promise<void> => {\n  // Placeholder implementation\n  console.log('Cleaning up team member asset:', avatarUrl);\n  // Implementation would involve:\n  // 1. Calling Supabase Storage API to delete the file\n  // 2. Handling potential errors gracefully\n  // 3. Logging cleanup operations\n};\n\n/**\n * Cleanup function for partner assets\n * @param logoUrl - URL of the logo to delete\n */\nexport const cleanupPartnerAsset = async (logoUrl: string): Promise<void> => {\n  // Placeholder implementation\n  console.log('Cleaning up partner asset:', logoUrl);\n  // Implementation would involve:\n  // 1. Calling Supabase Storage API to delete the file\n  // 2. Handling potential errors gracefully\n  // 3. Logging cleanup operations\n};\n\n/**\n * Cleanup function for gallery assets\n * @param imageUrl - URL of the image to delete\n */\nexport const cleanupGalleryAsset = async (imageUrl: string): Promise<void> => {\n  // Placeholder implementation\n  console.log('Cleaning up gallery asset:', imageUrl);\n  // Implementation would involve:\n  // 1. Calling Supabase Storage API to delete the file\n  // 2. Handling potential errors gracefully\n  // 3. Logging cleanup operations\n};\n"],"names":[],"mappings":"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"}